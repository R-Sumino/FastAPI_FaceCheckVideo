{% extends "layout.html" %}
{% block content %}
<br>
<div class="row">
    <div class="col-md-10">
        <h1>ユーザデータの登録</h1>
    </div>
    <!-- <div class="col-md-2">
        <a href="/" class="btn btn-primary" style="margin-bottom: 5px;">トップに戻る</a>
        <a href="/register_user" class="btn btn-success" style="margin-bottom: 5px;">ユーザ登録</a>
        <a href="/list_user" class="btn btn-info" style="margin-bottom: 5px;">ユーザ情報一覧</a>
    </div> -->

    <div class="menu-section">
        <div class="menu-toggle">
            <div class="one"></div>
            <div class="two"></div>
            <div class="three"></div>
        </div>
        <nav class="outmenu">
            <ul role="navigation" class="hidden">
                <li><a href="/"><i class="fa fa-home"> トップに戻る</i></a></li>
                <li><a href="/list_camera"><i class="fa fa-list"> カメラ情報一覧</i></a></li>
                <li><a href="/register_camera"><i class="fa fa-plus"> カメラの登録</i></a></li>
                <li><a href="/list_user"><i class="fa fa-users"> ユーザ情報一覧</i></a></li>
                <li><a href="/register_user"><i class="fa fa-user-plus"> ユーザ登録</i></a></li>
            </ul>
        </nav>
    </div>
</div>


<hr>

<form action="/register_data_post" method="post" enctype="multipart/form-data" class="regist-form">
    <br>
    <div class="group1">
        <select name="num_name" required class="input1" style="background-color: transparent;">
            <option value="" hidden disabled selected></option>
            {% for u in user %}
            <option value="{{u.number}}:{{u.username}}">{{ u.number }} : {{ u.username }}</option>
            {% endfor %}
        </select>
        <span class="highlight"></span>
        <span class="bar"></span>
        <label>Select User</label>
    </div>
    <br>
    <br>
    <div>
        <div class="buttonUpload" role="button" tabindex="0">
            <div class="docs">
                <svg class="css-i6dzq1" stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="2" stroke="currentColor" height="20" width="20" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline>
                    <line y2="13" x2="8" y1="13" x1="16"></line>
                    <line y2="17" x2="8" y1="17" x1="16"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg> 
                Upload Files
            </div>
        </div>

        <input type="file" name="files" accept="image/*" multiple required style="display: none;">
        <br>
        <div id="filename_show" style="margin: 2em 0 0 1em; display: none;"></div>

        <!-- <button class="download-button">
            <div class="docs">
                <svg class="css-i6dzq1" stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="2" stroke="currentColor" height="20" width="20" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline>
                    <line y2="13" x2="8" y1="13" x1="16"></line>
                    <line y2="17" x2="8" y1="17" x1="16"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg> 
                Docs
            </div>
            <div class="download">
                <svg class="css-i6dzq1" stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="2" stroke="currentColor" height="24" width="24" viewBox="0 0 24 24">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                    <polyline points="7 11 12 4 17 11"></polyline>
                    <line y2="5" x2="12" y1="16" x1="12"></line>
                </svg>
            </div>
        </button> -->
    </div>
    <br>
    <br>
    <!-- <button type="submit" class="btn btn-primary" style="display: block;">登録</button> -->
    
    <div>
        <button type="submit" class="regist-button">
            <div class="svg-wrapper-1">
                <div class="svg-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path fill="currentColor" d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"></path>
                </svg>
                </div>
            </div>
            <span>Regist</span>
        </button>
    </div>
</form>
<br>
<p class="text-danger" style="width: 85%; margin: auto">{% for e in error %}{{ e }}<br>{% endfor %}</p>

<hr>
{% if paths %}
    <p>社員番号：{{ number }}</p>
    <p>名前　　：{{ username }}</p>
    {% for key, value in paths.items() %}
    <img src="/image_output/{{ key }}" alt="{{ key }} : {{ value }}">
    {% endfor %}
{% endif %}


<script src="{{ url_for('static', path='/js/input-autosize.js') }}"></script>
<script src="{{ url_for('static', path='/js/outmenu.js') }}"></script>
<script src="{{ url_for('static', path='/js/upload.js') }}"></script>

{% endblock %}
